@using GeoTaggr.Core.Utils

<div class="form-check">
    <input id="@Id" class="form-check-input" type="checkbox" value="@Value" 
        @onchange="@OnCheckboxChanged" />
    @if (Label != null)
    {
        <label class="form-check-label" for="@Id">
            @Label
        </label>
    }
</div>

@code {
    [Parameter]
    public string? Label { get; set; }

    [Parameter]
    public EventCallback<bool> OnChange { get; set; }

    [Parameter]
    public bool Value { get; set; }    

    private string Id { get; } = TextUtils.GenerateRandomAlphaString(5);

    private async Task OnCheckboxChanged(ChangeEventArgs e)
    {
        Value = (bool?)e.Value ?? false;
        await OnChange.InvokeAsync(Value);
    }
}
